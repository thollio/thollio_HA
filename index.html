<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üå≤ Thollio Holzerfassung</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>

  <style>
    body { background-color: #1f2937; color: #f9fafb; }
    input, select, button { font-size: 1rem; }
    table { width: 100%; border-collapse: collapse; cursor: pointer; }
    th, td { padding: 0.5rem; border: 1px solid #374151; text-align: center; }
    th { background-color: #111827; }
    td { background-color: #1f2937; }
    tr:hover { background-color: #374151; }
    button { cursor: pointer; }
    #map { height: 320px; border-radius: 1rem; overflow: hidden; margin-top: 1rem; }
  </style>
</head>
<body class="p-6">
  <h1 class="text-3xl font-bold mb-2">üå≤ Thollio Holzerfassung</h1>

  <!-- Neuer Button -->
  <a href="https://thollio.github.io/thollio_HA_MA/" target="_blank" 
     class="inline-block mb-6 px-4 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 transition">
    Hier geht es zur Holzmantelmessung
  </a>

  <div class="mb-6 grid grid-cols-1 md:grid-cols-3 gap-4">
    <!-- Polternummer -->
    <input id="polternummer" placeholder="Polternummer" class="p-2 rounded bg-gray-700" />
    <!-- Hiebnummer -->
    <input id="hiebnummer" placeholder="Hiebnummer" class="p-2 rounded bg-gray-700" />
    <!-- Losnummer -->
    <input id="losnummer" placeholder="Losnummer" class="p-2 rounded bg-gray-700" />

    <!-- Baumart -->
    <div>
      <select id="baumart" class="p-2 rounded bg-gray-700 w-full">
        <option value="">-- Baumart w√§hlen --</option>
        <option value="Fichte">Fichte</option>
        <option value="Wei√ütanne">Wei√ütanne</option>
        <option value="Douglasie">Douglasie</option>
        <option value="L√§rche">L√§rche</option>
        <option value="Kiefer">Kiefer</option>
        <option value="Buche">Buche</option>
        <option value="Eiche">Eiche</option>
        <option value="Ahorn">Ahorn</option>
        <option value="Birke">Birke</option>
        <option value="Kirsche">Kirsche</option>
        <option value="Erle">Erle</option>
        <option value="LBH">LBH</option>
        <option value="LBW">LBW</option>
        <option value="Andere">Andere...</option>
      </select>
      <input id="baumartAnders" placeholder="Baumart eingeben" class="p-2 rounded bg-gray-700 mt-2 hidden w-full" />
    </div>

    <!-- G√ºteklasse -->
    <div>
      <select id="guete" class="p-2 rounded bg-gray-700 w-full">
        <option value="">-- G√ºteklasse --</option>
        <option value="A">A</option>
        <option value="B">B</option>
        <option value="C">C</option>
        <option value="D">D</option>
        <option value="BC">BC</option>
        <option value="CK">CK</option>
        <option value="N">N</option>
        <option value="K">K</option>
      </select>
    </div>

    <input id="laenge" placeholder="L√§nge (m)" type="number" class="p-2 rounded bg-gray-700" />
    <input id="durchmesser" placeholder="Durchmesser (cm)" type="number" class="p-2 rounded bg-gray-700" />
    <input id="datum" type="date" class="p-2 rounded bg-gray-700" />

    <!-- Standort -->
    <div class="flex space-x-2">
      <input id="standort" placeholder="Standort oder Koordinaten" class="p-2 rounded bg-gray-700 flex-grow" />
      <button id="getLocation" class="px-3 bg-indigo-600 rounded">üìç</button>
    </div>

    <input id="bemerkung" placeholder="Bemerkung" class="p-2 rounded bg-gray-700" />
  </div>

  <div id="map" class="shadow-lg"></div>

  <div class="mt-4 space-x-2">
    <button id="hinzufuegen" class="px-4 py-2 bg-green-600 rounded">Eintrag hinzuf√ºgen</button>
    <button id="aktualisieren" class="px-4 py-2 bg-yellow-600 rounded hidden">Eintrag aktualisieren</button>
    <button id="exportCSV" class="px-4 py-2 bg-blue-600 rounded">CSV exportieren</button>
    <button id="exportExcel" class="px-4 py-2 bg-amber-500 rounded">Excel exportieren</button>
    <button id="loeschen" class="px-4 py-2 bg-red-600 rounded">Alles l√∂schen</button>
  </div>

  <table class="mt-4">
    <thead>
      <tr>
        <th>Polternr.</th>
        <th>Hiebnr.</th>
        <th>Losnr.</th>
        <th>Baumart</th>
        <th>G√ºteklasse</th>
        <th>L√§nge (m)</th>
        <th>Durchmesser (cm)</th>
        <th>Volumen (m¬≥)</th>
        <th>Datum</th>
        <th>Standort</th>
        <th>Bemerkung</th>
        <th>Aktionen</th>
      </tr>
    </thead>
    <tbody id="tabelle"></tbody>
    <tfoot>
      <tr class="font-bold bg-gray-800">
        <td colspan="7" class="text-right pr-4">Gesamtvolumen:</td>
        <td id="gesamtVolumen">0.000</td>
        <td colspan="4"></td>
      </tr>
    </tfoot>
  </table>

  <!-- Skript bleibt unver√§ndert -->
  <script>
    // (Original JavaScript bleibt unver√§ndert)
  </script>
</body>
</html>
